<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pretty="http://ocpsoft.com/prettyfaces"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jp="http://xmlns.jcp.org/jsf/passthrough">

<div class="#{dashboardBean.getTabEhAtiva('account')}" id="tab_1_22_a">
	<div class="#{dashboardBean.getTabEhAtiva('account')}" id="tab_1_1_1">
		<div class="scroller" data-height="600px" data-always-visible="1" data-rail-visible1="1">
			<div class="col-md-3">
				<ul class="ver-inline-menu tabbable margin-bottom-10">
					<li class="#{dashboardBean.getSubTab1EhAtiva(1)}"><h:commandLink class="#{dashboardBean.getSubTab1EhAtiva(1)}" data-toggle="tab">
							<f:ajax listener="#{dashboardBean.goToChangePersonalInfo()}" render="@form" />
							<i class="fa fa-cog"></i> Dados Pessoais 
					</h:commandLink> <span class="after"> </span></li>
					<li class="#{dashboardBean.getSubTab1EhAtiva(2)}"><h:commandLink class="#{dashboardBean.getSubTab1EhAtiva(2)}" data-toggle="tab">
							<f:ajax listener="#{dashboardBean.goToChangeContactInfo()}" render="@form" />
							<i class="fa fa-lock"></i> Dados de Contato 
					</h:commandLink></li>
					<li class="#{dashboardBean.getSubTab1EhAtiva(3)}"><h:commandLink class="#{dashboardBean.getSubTab1EhAtiva(3)}" data-toggle="tab">
							<f:ajax listener="#{dashboardBean.goToChangeAccessInfo()}" render="@form" />
							<i class="fa fa-lock"></i> Dados de Acesso 
					</h:commandLink></li>
					<li class="#{dashboardBean.getSubTab1EhAtiva(4)}"><h:commandLink class="#{dashboardBean.getSubTab1EhAtiva(4)}" data-toggle="tab">
							<f:ajax listener="#{dashboardBean.goToNetworkSetup()}" render="@form" />
							<i class="fa fa-sitemap"></i> Definições da Rede 
					</h:commandLink></li>
				</ul>
			</div>
			<div class="col-md-9">
				<div class="tab-content">
														
				<h:panelGroup id="changePersonalInfoTab" rendered="#{dashboardBean.isSubTabAtiva(1)}">
					<div style="height: 550px;color:black;" id="tab_1-1" class="tab-pane #{dashboardBean.getSubTab1EhAtiva(1)}">
							<fieldset>
								<legend>Dados Pessoais:</legend>
										<br/>
								<h:messages errorStyle="color: red;" />
								<div class="form-group"> 
									<label class="control-label" style="color:#000000">Nome Completo </label> 
									<h:inputText class="form-control"
												 id="fullname2" 
												 name="fullname2" 
												 value="#{dashboardBean.user.account.fullname}" 
												 required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(1)}" 
												 requiredMessage="Digite um nome" /> 
								</div> 
								<div class="form-group"> 
									<label class="control-label" for="birthdate" style="color:#000000">Data de Nascimento </label>  <br />

										<p:calendar id="birthdate"
													name="birthdate"
													pattern="dd/MM/yyyy" 
													mask="true"
													value="#{dashboardBean.user.account.birthdate}" 
													showOn="button" 
													navigator="true" 
													required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(1)}"
													requiredMessage="Informe uma data de nascimento">
													<p:ajax event="dateSelect" onload="onDateSelect()"></p:ajax>
										</p:calendar>
								</div> 
								<div class="form-group"> 
									<label class="control-label" style="color:#000000">Número do CPF  
									</label> 
									<p:inputMask mask="999.999.999-99" id="cpf" name="cpf" class="form-control" value="#{dashboardBean.user.account.cpf}" maxlength="11" required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(1)}" 
										jp:placeholder="Ex: 012.234.456-77" validator="cpfValidator" converter="cpfConverter" converterMessage="CPF inválido!" validatorMessage="Digite um CPF válido" 
										requiredMessage="Informe um CPF" 
									/> 
								</div> 
								<div class="form-group"> 
									<label class="control-label"  style="color:#000000">Número do RG  
									</label> 
									<h:inputText id="rg" name="rg" class="form-control" value="#{dashboardBean.user.account.rg}" required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(1)}" 
										requiredMessage="Informe um RG" maxlength="11" 
										validatorMessage="Digite um RG valido" 
									> 
										<f:validateLength minimum="6" maximum="11" /> 
									</h:inputText> 
								</div> 
								<div class="margiv-top-10"> 
									<h:commandButton class="btn green button-previous" action="#{dashboardBean.saveChangePersonalInfo()}" value="Salvar Alterações"> 
										<f:ajax render="@form" execute="changePersonalInfoTab" /> 
									</h:commandButton> 
								</div>
							
							</fieldset>
					</div> 
					</h:panelGroup>	
					
					<h:panelGroup rendered="#{dashboardBean.isSubTabAtiva(2)}">
					<div style="height: 850px;color:black;" id="tab_1-2" class="tab-pane #{dashboardBean.getSubTab1EhAtiva(2)}">
					<fieldset><legend>Dados de Contato:</legend>
									<br/>
								<div class="form-group">
									<label class="control-label" style="color:#000000">Endereço</label>
									<h:inputText class="form-control" id="address" name="address" 
												 value="#{dashboardBean.user.account.address}" 
												 required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}" 
												 requiredMessage="Digite seu endereço" />
								</div>
								<div class="form-group">
									<label class="control-label" style="color:#000000">Número</label><br />
									<p:inputMask mask="?9999999999" id="addressNumber" name="addressNumber" 
												value="#{dashboardBean.user.account.addressNumber}" 
												required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}"
												requiredMessage="Digite o número do endereço"
									/>
								</div>
								<div class="form-group">
									<label class="control-label" style="color:#000000">Complemento</label>
									<h:inputText class="form-control" id="complement" name="complement" 
												value="#{dashboardBean.user.account.complement}" 
												required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}"
												requiredMessage="Digite o complemento" />
								</div>
								<div class="form-group">
									<label class="control-label" style="color:#000000">CEP</label>
									<p:inputMask mask="99999-999" class="form-control" id="cep" name="cep" 
												value="#{dashboardBean.user.account.cep}" 
												jp:placeholder="Ex: 12345-55" 
												required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}"
												requiredMessage="Digite seu CEP" maxlength="8"
									/>
								</div>
								<div class="form-group"> 
									<label class="control-label" style="color:#000000">Estado</label>
									<h:selectOneMenu id="estado" 
													 name="estado" 
													 value="#{dashboardBean.user.account.state}" 
													 class="form-control" 
													 required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}">
										<f:selectItem itemLabel="Selecione um estado" itemValue="#{null}" />
										<f:selectItems value="#{dashboardBean.stateList}" var="e" itemLabel="#{e.name}" itemValue="#{e.acronym}" />
										<f:ajax event="change" render="cidade" />
									</h:selectOneMenu>
								</div>
								<div class="form-group">
									<label class="control-label" style="color:#000000">Cidade </label>
									<h:selectOneMenu id="cidade" 
													 name="cidade" 
													 value="#{dashboardBean.user.account.city.id}" 
													 class="form-control" 
													 requiredMessage="Selecione uma cidade" 
													 required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}">
										<f:selectItem itemLabel="Selecione uma cidade" itemValue="#{null}" />
										<f:selectItems value="#{dashboardBean.cityList}" var="c" itemLabel="#{c.name}" itemValue="#{c.id}" />
									</h:selectOneMenu>
								</div>
								<div class="form-group">
									<label class="control-label"  style="color:#000000">Número de telefone</label>
									<p:inputMask mask="(99) 9999?9-9999" class="form-control" id="phone" name="phone" 
										value="#{dashboardBean.user.account.phone}" 
										jp:placeholder="(00) 0000-0000" 
										required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}"
										requiredMessage="Digite seu telefone"
									/>
								</div>
								<div class="form-group">
									<label class="control-label"  style="color:#000000">Número do Celular 
									</label>
									<p:inputMask mask="(99) 9999?9-9999" class="form-control" id="mobile" name="mobile" 
												value="#{dashboardBean.user.account.mobile}" jp:placeholder="(00) 0000-0000" 
												required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}"
												requiredMessage="Digite o número do seu celular" />
								</div>
								<div class="form-group">
									<label class="control-label"  style="color:#000000">Operadora </label>
									<h:selectOneMenu id="carrier" 
													name="carrier" 
													value="#{dashboardBean.user.account.carrier}" class="form-control" 
													required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}" 
													requiredMessage="Selecione uma operadora">
										<f:selectItem itemLabel="Selecione sua operadora" itemValue="#{null}" />
										<f:selectItems value="#{dashboardBean.carrierList}" var="c" itemLabel="#{c.name}" itemValue="#{c.id}" />
									</h:selectOneMenu>
								</div>
								<div class="form-group">
									<label class="control-label"  style="color:#000000">Email 
									</label>
									<h:inputText id="mail" 
												name="mail" 
												value="#{dashboardBean.user.account.email}" 
												required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(2)}" 
												requiredMessage="Digite seu e-mail" 
												class="form-control" 
												validator="emailValidator"
												validatorMessage="E-mail inválido." />
								</div>
						<div class="margin-top-10">
							<h:commandButton class="btn green button-previous" action="#{dashboardBean.saveChangeContactInfo()}" value="Salvar Alterações" rendered="true">
								<f:ajax render="@form" execute="@form" />
							</h:commandButton>
						</div>
				 	</fieldset>
					</div>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{dashboardBean.isSubTabAtiva(3)}">
					<div style="height: 450px;color: black;" id="tab_1-3" class="tab-pane #{dashboardBean.getSubTab1EhAtiva(3)}">
						<fieldset><legend>Dados de Acesso:</legend>
									<br/>
						<div class="form-group">
							<label class="control-label"  style="color:#000000">Senha Atual</label>
							<h:inputSecret  id="pass" 
										    name="pass" 
											value="#{dashboardBean.user.pass}" 
											class="form-control" 
											redisplay="true" 
											required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(3)}"
											requiredMessage="Informe uma senha.">
											<f:ajax event="blur" render="pass passMsg"/>
							 </h:inputSecret>
							
						  <span class="help-block"> Entre com sua senha atual</span>
						 <h:message id="passMsg" for="pass" errorStyle="color: red;" />				
						</div>
						<div class="form-group">
							<label class="control-label"  style="color:#000000">Nova Senha</label>
							<h:inputSecret id="newPass" 
								name="newPass" 
								value="#{dashboardBean.user.newPass}" 
								class="form-control" 
								required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(3)}"
								requiredMessage="Informe uma nova senha.">
								
								<f:ajax event="blur" render="newPassMsg" />
								
							</h:inputSecret>
							<span class="help-block"> Entre com a nova senha
							</span>
							<h:message id="newPassMsg" for="newPass" errorStyle="color: red;" />
							
														
						</div>
						<div class="form-group">
							<label class="control-label"  style="color:#000000">Confirme a Nova Senha</label>
							<h:inputSecret id="passConfirmation"
							   name="passConfirmation" 
							   value="#{dashboardBean.user.passConfirmation}" 
							   class="form-control" 
							   required="#{dashboardBean.isTabAtiva('account') and dashboardBean.isSubTabAtiva(3)}"
							   requiredMessage="Informe uma nova confirmação de senha">
							   
							   <f:validator validatorId="senhaValidator" />
							   <f:attribute name="confirm"	value="#{dashboardBean.user.newPass}" />
							   <f:ajax event="blur" render="passConfirmationMsg" />
							
							</h:inputSecret>
							<span class="help-block"> Confirme a nova senha </span>
							<h:message id="passConfirmationMsg" for="passConfirmation" errorStyle="color: red;" />
										    
						</div>
						<div class="margin-top-10">
							<h:commandButton class="btn green button-previous" action="#{dashboardBean.saveChangePass()}" value="Salvar Alterações" >
								<f:ajax render="@form" execute="@form" />
							</h:commandButton>
						</div>
						</fieldset>
					</div>
					</h:panelGroup>
					
					<h:panelGroup id="pnlGroupDefinicoesRede" rendered="#{dashboardBean.isSubTabAtiva(4)}">
						<div style="height: 450px;color: black;" id="tab_1-4" class="tab-pane #{dashboardBean.getSubTab1EhAtiva(4)}">
								<div class="form-group" style="font-size:medium;">
									<fieldset><legend>Definições de Rede:</legend>
										<br/>
									Meus próximos cadastrados serão posicionados no
									&nbps;
									<h:selectOneMenu value="#{dashboardBean.selectConfigNetworkValue}">
										<f:selectItems value="#{dashboardBean.itensConfigNetwork}" ></f:selectItems>
									</h:selectOneMenu>
									&nbps;
									<div class="margin-top-10">
										<h:commandButton style="margin-left:2px" class="btn green button-previous" action="#{dashboardBean.saveConfigNetwork()}" value="Salvar">
											<f:ajax render="@form" execute="pnlGroupDefinicoesRede" />
										</h:commandButton>
									</div>
									</fieldset>
								</div>
								
						</div>
					</h:panelGroup>
					
				
				</div>
				
				
			</div>
		</div>
	</div>
</div>
<script>
var initalDateSelect = true;

function onDateSelect() {
	alert("Entrou no JS");
   if(initalDateSelect) {
       myDate = cal.getDate();
       cal.setDate(myDate);
       initalDateSelect = false;
   }

 }

</script>

</html>